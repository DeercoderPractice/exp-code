%% Author: Chang Liu
%  Description: This template is used for generating the page head and foot
%  2015-03-27 00:15:10

\documentclass{article}
\usepackage{listings}	% add code segment
\usepackage{titlesec}   %set the page head/foot
%\usepackage{lastpage} % maybe used using Lastpages
%\usepackage{mathtools}
\usepackage{amsmath} % add math blod, boldmath, unbold
%\usepackage{graphics}
\usepackage{graphicx}
%\usepackage{picture}
\usepackage{commath} % NOTE: use this with \abs to print the absolute value of E!!!
\usepackage[page]{totalcount}

\title{Algorithm Homework 5}
\author{Chang Liu}

\begin{document}

\newpagestyle{main}{            
    \sethead{Chang Liu}{HW5}{chang\_liu\\@student.uml.edu} % I don't know why here must use two "\" before to input @
    % and also know that strange error is often caused by the special characters.
    % here the \thepage is very useful to add for page number in the right part
    % \setfoot{}{}{\thepage} % just output the page number
    \setfoot{}{}{\thepage\ \// \totalpages} % add totalpages then needs page package and totalcount
    \headrule
    \footrule
}
\pagestyle{main}

\section{Problem 1: Two Kid Problem(15 points)}
\textbf{Question}: Professor Adam has two children who, unfortunately, dislike each other. The problem is so severe that not only do they refuse to walk to school together, but in fact each one refuses to walk on any block that the other child has stepped on that day. The children have no problem with their paths crossing at a corner. Fortunately both the professorâ€™s house and the school are on corners, but beyond that he is not sure if it is going to be possible to send both of his children to the same school. The professor has a map of his town. Show how to formulate the problem of determining whether both his children can go to the same school as a maximum-flow problem.\newline


\textbf{Solution}: This problem could be thought of as a max flow problem.

1) Let the home be the source node and the school be the destination node.

2) For all other corners or crossing which could be visited by both of the children, we could assume a label $c_{i}$
to note these corners.

3) For every two corners, set a value $f(c_{i}, c_{j}) = 1$ if there is path that can be reached from $c_{i}$ to $c_{j}$, other nodes who connected to the corners or nodes interconnected have a weight that is more than 1, which could guarantee the minimum weight is one for each edge.

4) Then the problem could be described that: from the source to the destination, we assume the from one point to another
as a DAG(directed acyclic graph), if there exist a maximum flow which value is 2, then we could judge that there exist a
non-contradict path which could make both of the two children attend the same school.\newline


\textbf{Proof or Validness:}

We could know that apart from all other edges which weight is more than 1, if there is exist a solution that makes the
two children go to the same school, then they should either share some corners(because they can visit the corner, otherwise the home or school doesn't meet the requirement), or they just go in two different straight direction which
doesn\'st share any nodes.

For the first situation, since there are two children and they both visit this shared corner, so the incoming weight is
2, even though other nodes weight may be larger than 2, it is still 2 for these graph. We can know that other paths have
the weight equal or larger than 2, if smaller, then there must be negative weight.

For the second situation, we know that for two totally unrelated path, they share the source and ending point, their weight is 2 for maximum flow, other nodes that lay in the middle must have larger weights or at least, if two children we should combine it as $ 1 + 1 = 2 $, so max is still 2. 

So combining these two facts it's obvious that the max flow is 2 to solve the problem.

\section{Problem 2: Vertex Capacities(15 points)}
\textbf{Question}: Suppose that, in addition to edge capacities, a flow network has \textbf{vertex capacities}. That is each vertex $v$ has a limit $l(v)$ on how much flow can pass though $v$. Show how to transform a flow network $G=(V, E)$ with vertex capacities into an equivalent flow network $G^{'} = (V^{'},  E^{'})$ without vertex capacities, such that a maximum flow in $G^{'}$ has the same value as a maximum flow in $G$. How many vertices and edges does $G^{'}$ have?\newline

\textbf{Solution}: The original max flow problem with \textsl{vertex capacity} constrain could be converted to a non-vertex-capacity problem by the following changes:

1) for each vertex $v$, divide it into two separate vertex $v_{in}$ and $v_{out}$.

2) if there is an original edge $(u, v)$ in the old graph $G$, in our new graph $G^{'}$, we just need to make an
edge $(u, v_{in})$.

3) if there is an original edge $(v, w)$ in the old graph $G$, in our new graph $G^{'}$, we just need to make an
edge $(v_{out}, w)$.

4) for the two vertex $v_{in}, v_{out}$, we just need to make an edge between them and assign the capacity of this
edge to be the vertex capacity of original vertex $v$.

5) after all these rules setting, we could know that each new vertex $v_{in}, v_{out}$ don't have any vertex 
capacity constrains, the original constrain is shown by the edges of the two new vertex. But the overall max
flow is not changed as the incoming and outgoing edge capacity is not changed, so the network flow is not changed,
the vertex capacity constrain is added by the new edge comparing with old graph, but it is still the same constrain
condition as before, so the new solution is the same as the old one.

At last, we could know that in the new graph $G^{'}$, the added vertex is $|V|$, for the source vertex and end vertex,
we still need to divide them even though they don't have the incoming or outgoing flow, otherwise the vertex capacity
is not shown. For the edge we need to add $|E|$ to the original graph $G$. So in the new graph $G^{'}$, the edges are \boldmath\underline{$|V|+|E|$}\unboldmath, the vertex are \boldmath\underline{$2\times|V|$}\unboldmath.


\section{Problem 3: Modified Residual Network(15 points)}
\textbf{Question}: Suppose that we redefine the residual network to disallow edges into $s$. Argue that the procedure FORD-FULKERSON still correctly computes a maximum flow.\newline

\textbf{Solution}:



\section{Problem 4: $|E|$  Augmenting Paths(15 points)}
\textbf{Question}: Show how to find a maximum flow in a network $G = (V, E)$ by a sequence of at most $|E|$ augmenting paths. (Hint: Determine the paths after finding the maximum flow.)\newline

\textbf{Solution}:


\section{Problem 5: Max Flow by Scaling(20 points)}
\textbf{Maximum flow by scaling}

Let $G=(V, E)$ be a flow network with source $s$, sink $t$, and an integer capacity $c(u, v)$ on each edge $(u, v)\in{E}$. Let $C=max_{(u,v)\in{E}}c_{(u,v)}$.

a. Argue that a minimum cut of $G$ has capacity at most $C|E|$.

b. For a given number K, show how to find an augmenting path of capacity at least K in $O(E)$ time, if such a path exists.

We can use the following modification of FORD-FULKERSON-METHOD to compute a maximum flow in $G$:

\begin{center} % add this to make the figure shows in the middle of the pages
\includegraphics[width=5.00in,height=2.00in]{hw5_1.png}
%\caption{EHD descriptor for distinguishing the image}
\end{center}


c. Argue that MAX-FLOW-BY-SCALING returns a maximum flow.\newline

\textbf{Solution}:



\end{document}